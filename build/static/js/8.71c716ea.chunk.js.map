{"version":3,"sources":["pages/singleProduct.jsx"],"names":["React","memo","connect","store","catalog","app","data","catalogLoading","isLoading","cart","sum","dispatch","updateCart","array","props","match","params","code","style","margin","padding","color","border","borderRadius","height","catName","item","cartItemBayStatus","eur","toFixed","i","length","find","elem","className","aria-label","to","URL","aria-current","id","data-ride","heifht","src","alt","title","available","name","price","onClick","e","target","getAttribute","push","amount","Number","localStorage","setItem","JSON","stringify","handleAddToCart"],"mappings":"kHAAA,iEAsKeA,cAAMC,KAAKC,aAfF,SAACC,GACrB,MAAO,CACHC,QAASD,EAAME,IAAID,QAAQE,KAC3BC,eAAgBJ,EAAME,IAAIG,UAAUJ,UAAW,EAC/CK,KAAMN,EAAME,IAAII,KAChBC,IAAKP,EAAME,IAAIK,QAII,SAACC,GACxB,MAAO,CACHC,WAAY,SAACC,GAAD,OAAWF,EAASC,YAAWC,QAIzBX,EAtJ1B,SAAiBY,GAAQ,IAGjBV,EAKAU,EALAV,QACAW,EAIAD,EAJAC,MACAR,EAGAO,EAHAP,eACAE,EAEAK,EAFAL,KACAG,EACAE,EADAF,WAGJ,GAAIL,EACA,OAAQ,kBAAC,IAAD,MAGZ,IAAKH,EAAQW,EAAMC,OAAOC,KAAO,GAC7B,OACI,wBAAIC,MAAO,CACPC,OAAQ,OACRC,QAAS,MACTC,MAAO,MACPC,OAAQ,gBACRC,aAAc,MACdC,OAAQ,gBANZ,aAOa,6BAPb,kDAQ+C,6BAR/C,mEASgE,6BAThE,qDAUkD,6BAVlD,cAeR,IACIC,EADAC,EAAOtB,EAAQW,EAAMC,OAAOC,KAAO,GAEnCU,EAAoB,cAGpBF,EADY,MAAZC,EAAK,GACK,QAEA,QAad,IAVA,IAAIE,GAAiB,OAAVF,EAAK,IAAaG,QAAQ,GAU5BC,EAAI,EAAGA,EAAIrB,EAAKsB,OAAQD,IACzBrB,EAAKuB,MAAK,SAAAC,GAAI,OAAIA,EAAKP,OAASA,EAAK,QACrCC,EAAoB,SAI5B,OACI,yBAAKO,UAAU,oDACX,yBAAKA,UAAU,mBAEX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,UACX,yBAAKC,aAAW,cACZ,wBAAID,UAAU,oBACV,wBAAIA,UAAU,mBAAkB,kBAAC,IAAD,CAAME,GAAIC,KAAV,SAChC,wBAAIH,UAAU,mBAAkB,kBAAC,IAAD,CAAME,GAAIC,KAAV,SAChC,wBAAIH,UAAU,mBAAkB,kBAAC,IAAD,CAAME,GAAE,UAAKC,IAAL,YAAiBX,EAAK,KAAOD,IACrE,wBAAIS,UAAU,yBAAyBI,eAAa,QAAQZ,EAAK,QAMjF,yBAAKQ,UAAU,OACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,wBACX,yBAAKK,GAAG,yBAAyBL,UAAU,iBAAiBM,YAAU,YAElE,yBAAKN,UAAU,kBACX,yBAAKA,UAAU,uBACXhB,MAAO,CAAEuB,OAAQ,SAEjB,yBAAKP,UAAU,gBACXQ,IAAG,sCAAiChB,EAAK,IACzCiB,IAAI,qBAU5B,yBAAKT,UAAU,mBACX,yBAAKA,UAAU,uBAEX,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,SACf,uBAAGA,UAAU,iBAAb,IAA+BR,EAAK,GAApC,YAA4CE,GAC5C,4BAAKF,EAAKkB,OAEV,uBAAGV,UAAU,cAAa,uBAAGA,UAAU,iBAAvC,aAAqER,EAAKmB,YAG9E,6BACA,6BAEA,6BACI,4BAAKnB,EAAK,KAGd,6BAEA,yBAAKQ,UAAU,iBACX,4BACIA,UAAU,gBACVY,KAAMpB,EAAK,GACXqB,MAAOrB,EAAK,GACZsB,QAAS,SAACC,IA7E1C,SAAyBA,GAChBxC,EAAKuB,MAAK,SAAAC,GAAI,OAAIA,EAAKP,OAASuB,EAAEC,OAAOC,aAAa,aACvD1C,EAAK2C,KAAK,CAAE1B,KAAMuB,EAAEC,OAAOC,aAAa,QAASE,OAAQ,EAAGN,MAAOO,OAAOL,EAAEC,OAAOC,aAAa,YAChGvC,EAAWH,GACX8C,aAAaC,QAAb,WAAiCC,KAAKC,UAAUjD,KAyENkD,CAAgBV,KAGhCtB","file":"static/js/8.71c716ea.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport Spinner from \"../components/spinner\";\nimport { Link } from 'react-router-dom';\nimport * as URL from '../router/url';\nimport * as PropTypes from 'prop-types';\nimport { updateCart } from '../store/action_creatores';\n\nProduct.propTypes = {\n    catalog: PropTypes.array,\n    match: PropTypes.object,\n    catalogLoading: PropTypes.bool,\n    cart: PropTypes.array,\n    updateCart: PropTypes.func,\n};\n\nfunction Product(props) {\n\n    const {\n        catalog,\n        match,\n        catalogLoading,\n        cart,\n        updateCart,\n    } = props;\n\n    if (catalogLoading) {\n        return (<Spinner />);\n    };\n\n    if (!catalog[match.params.code - 1]) {\n        return (\n            <h6 style={{\n                margin: \"50px\",\n                padding: \"5px\",\n                color: \"red\",\n                border: \"solid red 2px\",\n                borderRadius: \"5px\",\n                height: \"fit-content\",\n            }}>ID ERROR! <br />\n            A product with this ID is not in the database. <br/>\n            Buy yourself better than an ordinary goose in an ordinary place <br/>\n            and fuck the brain to him, not the server, please.<br/>\n            Thank you.</h6>\n        )\n    };\n\n    let item = catalog[match.params.code - 1];\n    let catName; // для хлебных крошек\n    let cartItemBayStatus = \"Add to cart\"; // надпись на кнопке\n\n    if (item[5] === '1') {\n        catName = \"PIZZA\"\n    } else {\n        catName = \"SUSHI\"\n    };\n\n    let eur = (item[3] * 1.0842).toFixed(1);\n\n    function handleAddToCart(e) { // добавляем товар в корзину\n        if (!cart.find(elem => elem.item === e.target.getAttribute('name'))) {\n            cart.push({ item: e.target.getAttribute('name'), amount: 1, price: Number(e.target.getAttribute('price')) });\n            updateCart(cart);\n            localStorage.setItem(`cartInfo`, JSON.stringify(cart));\n        };\n    };\n\n    for (let i = 0; i < cart.length; i++) { // функция удаления из корзины бесплатно доступна только из меню корзины. И ниипёт.\n        if (cart.find(elem => elem.item === item[0])) {\n            cartItemBayStatus = \"Added\";\n        };\n    };\n\n    return (\n        <div className=\"single-product-area section-padding-100 clearfix\">\n            <div className=\"container-fluid\">\n\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <nav aria-label=\"breadcrumb\">\n                            <ol className=\"breadcrumb mt-50\">\n                                <li className=\"breadcrumb-item\"><Link to={URL.HOME}>HOME</Link></li>\n                                <li className=\"breadcrumb-item\"><Link to={URL.SHOP}>SHOP</Link></li>\n                                <li className=\"breadcrumb-item\"><Link to={`${URL.SHOP}/${item[5]}`}>{catName}</Link></li>\n                                <li className=\"breadcrumb-item active\" aria-current=\"page\">{item[1]}</li>\n                            </ol>\n                        </nav>\n                    </div>\n                </div>\n\n                <div className=\"row\">\n                    <div className=\"col-12 col-lg-7\">\n                        <div className=\"single_product_thumb\">\n                            <div id=\"product_details_slider\" className=\"carousel slide\" data-ride=\"carousel\">\n\n                                <div className=\"carousel-inner\">\n                                    <div className=\"carousel-item active\"\n                                        style={{ heifht: \"100%\" }}\n                                    >\n                                        <img className=\"d-block w-100\"\n                                            src={`http://a0438483.xsph.ru/img/${item[2]}`}\n                                            alt=\"First slide\" />\n\n                                    </div>\n                                </div>\n\n\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"col-12 col-lg-5\">\n                        <div className=\"single_product_desc\">\n\n                            <div className=\"product-meta-data\">\n                                <div className=\"line\"></div>\n                                <p className=\"product-price\">${item[3]} / €{eur}</p>\n                                <h6>{item.title}</h6>\n\n                                <p className=\"avaibility\"><i className=\"fa fa-circle\"></i> In Stock {item.available}</p>\n                            </div>\n\n                            <br />\n                            <br />\n\n                            <div>\n                                <h5>{item[4]}</h5>\n                            </div>\n\n                            <br />\n\n                            <div className=\"cart clearfix\">\n                                <button\n                                    className=\"btn amado-btn\"\n                                    name={item[0]}\n                                    price={item[3]}\n                                    onClick={(e) => { handleAddToCart(e) }}\n                                >\n\n                                    { cartItemBayStatus }\n\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst mapStateToProps = (store) => {\n    return {\n        catalog: store.app.catalog.data,\n        catalogLoading: store.app.isLoading.catalog || false,\n        cart: store.app.cart,\n        sum: store.app.sum,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        updateCart: (array) => dispatch(updateCart(array)),\n    };\n};\n\nexport default React.memo(connect(mapStateToProps, mapDispatchToProps)(Product));"],"sourceRoot":""}